"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics=globalThis.webpackChunkphysical_ai_humanoid_robotics||[]).push([[547],{6376:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>t,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"ros2/urdf-xacro-for-humanoids","title":"URDF + Xacro for Humanoids","description":"Learning Objectives","source":"@site/docs/01-ros2/03-urdf-xacro-for-humanoids.md","sourceDirName":"01-ros2","slug":"/ros2/urdf-xacro-for-humanoids","permalink":"/ros2/urdf-xacro-for-humanoids","draft":false,"unlisted":false,"editUrl":"https://github.com/mfsrajput/AI-And-Robotic-Hackathoon/edit/main/docs/01-ros2/03-urdf-xacro-for-humanoids.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"URDF + Xacro for Humanoids"},"sidebar":"moduleSidebar","previous":{"title":"Nodes, Topics, Services, and Actions","permalink":"/ros2/nodes-topics-services-actions"},"next":{"title":"Python rclpy Bridge to Controllers","permalink":"/ros2/python-rclpy-bridge"}}');var r=i(4848),o=i(8453);const t={sidebar_position:3,title:"URDF + Xacro for Humanoids"},l="URDF + Xacro for Humanoids",s={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Theory: URDF Fundamentals for Humanoid Robots",id:"theory-urdf-fundamentals-for-humanoid-robots",level:2},{value:"Robot Structure",id:"robot-structure",level:3},{value:"URDF Elements for Humanoids",id:"urdf-elements-for-humanoids",level:3},{value:"Xacro Advantages",id:"xacro-advantages",level:3},{value:"Practice: Creating a Humanoid Robot Model",id:"practice-creating-a-humanoid-robot-model",level:2},{value:"Basic URDF Structure",id:"basic-urdf-structure",level:3},{value:"Creating the Main Xacro File",id:"creating-the-main-xacro-file",level:3},{value:"Creating the Xacro Macros File",id:"creating-the-xacro-macros-file",level:3},{value:"Active Learning Exercise",id:"active-learning-exercise",level:2},{value:"Worked Example: Black-box to Glass-box - Creating a Parametric Humanoid Model",id:"worked-example-black-box-to-glass-box---creating-a-parametric-humanoid-model",level:2},{value:"Black-box View",id:"black-box-view",level:3},{value:"Glass-box Implementation",id:"glass-box-implementation",level:3}];function m(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"urdf--xacro-for-humanoids",children:"URDF + Xacro for Humanoids"})}),"\n",(0,r.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsx)(e.p,{children:"By the end of this chapter, students will be able to:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Construct complete URDF models for complex humanoid robots with multiple degrees of freedom"}),"\n",(0,r.jsx)(e.li,{children:"Utilize Xacro macros to create reusable and maintainable robot descriptions"}),"\n",(0,r.jsx)(e.li,{children:"Define joint limits, safety controllers, and physical properties for humanoid robots"}),"\n",(0,r.jsx)(e.li,{children:"Incorporate sensor models and mounting points in URDF descriptions"}),"\n",(0,r.jsx)(e.li,{children:"Generate and visualize robot models using ROS 2 tools"}),"\n",(0,r.jsx)(e.li,{children:"Implement parametric robot designs that can be customized for different configurations"}),"\n",(0,r.jsx)(e.li,{children:"Validate URDF models for kinematic and dynamic correctness"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(e.p,{children:"Unified Robot Description Format (URDF) is the standard XML-based format for representing robot models in ROS. For humanoid robots, which typically have 20+ degrees of freedom and complex kinematic chains, URDF becomes essential for defining the robot's physical structure, joint relationships, and inertial properties. However, raw URDF files for humanoid robots can become extremely verbose and difficult to maintain, which is where Xacro (XML Macros) becomes invaluable."}),"\n",(0,r.jsx)(e.p,{children:"Xacro allows the use of macros, constants, and expressions to create more readable and maintainable robot descriptions. For humanoid robots with symmetrical structures like arms and legs, Xacro macros can significantly reduce redundancy while improving consistency across the model."}),"\n",(0,r.jsx)(e.h2,{id:"theory-urdf-fundamentals-for-humanoid-robots",children:"Theory: URDF Fundamentals for Humanoid Robots"}),"\n",(0,r.jsx)(e.h3,{id:"robot-structure",children:"Robot Structure"}),"\n",(0,r.jsx)(e.p,{children:"A humanoid robot typically consists of:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"A base/torso segment"}),"\n",(0,r.jsx)(e.li,{children:"Two symmetrical arms (shoulder, elbow, wrist joints)"}),"\n",(0,r.jsx)(e.li,{children:"Two symmetrical legs (hip, knee, ankle joints)"}),"\n",(0,r.jsx)(e.li,{children:"A head/neck assembly"}),"\n",(0,r.jsx)(e.li,{children:"Various sensors mounted on different links"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"urdf-elements-for-humanoids",children:"URDF Elements for Humanoids"}),"\n",(0,r.jsx)(e.p,{children:"Key URDF elements for humanoid robots include:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"<link>"}),": Represents rigid bodies (limbs, torso, etc.)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"<joint>"}),": Defines connections between links with specific joint types"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"<material>"}),": Defines visual appearance"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"<visual>"}),": Specifies how links appear in simulation"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"<collision>"}),": Defines collision geometry"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"<inertial>"}),": Specifies mass properties for physics simulation"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"xacro-advantages",children:"Xacro Advantages"}),"\n",(0,r.jsx)(e.p,{children:"Xacro provides several benefits for humanoid robot descriptions:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Macros for repetitive structures (left/right arms/legs)"}),"\n",(0,r.jsx)(e.li,{children:"Constants for consistent measurements"}),"\n",(0,r.jsx)(e.li,{children:"Expressions for calculated values"}),"\n",(0,r.jsx)(e.li,{children:"Include statements for modular design"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"practice-creating-a-humanoid-robot-model",children:"Practice: Creating a Humanoid Robot Model"}),"\n",(0,r.jsx)(e.h3,{id:"basic-urdf-structure",children:"Basic URDF Structure"}),"\n",(0,r.jsx)(e.p,{children:"Let's create a simple humanoid model using Xacro. First, create the package:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"cd ~/ros2_ws/src\nros2 pkg create --build-type ament_cmake humanoid_description --dependencies\nmkdir -p ~/ros2_ws/src/humanoid_description/urdf\nmkdir -p ~/ros2_ws/src/humanoid_description/meshes\n"})}),"\n",(0,r.jsx)(e.h3,{id:"creating-the-main-xacro-file",children:"Creating the Main Xacro File"}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/humanoid_description/urdf/humanoid.xacro"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="simple_humanoid">\n\n  \x3c!-- Constants for robot dimensions --\x3e\n  <xacro:property name="PI" value="3.1415926535897931"/>\n  <xacro:property name="mass_torso" value="10.0"/>\n  <xacro:property name="mass_arm" value="2.0"/>\n  <xacro:property name="mass_leg" value="5.0"/>\n  <xacro:property name="mass_head" value="1.5"/>\n\n  \x3c!-- Materials --\x3e\n  <material name="black">\n    <color rgba="0.0 0.0 0.0 1.0"/>\n  </material>\n  <material name="blue">\n    <color rgba="0.0 0.0 0.8 1.0"/>\n  </material>\n  <material name="green">\n    <color rgba="0.0 0.8 0.0 1.0"/>\n  </material>\n  <material name="grey">\n    <color rgba="0.5 0.5 0.5 1.0"/>\n  </material>\n  <material name="orange">\n    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>\n  </material>\n  <material name="brown">\n    <color rgba="0.870588235294 0.811764705882 0.764705882353 1.0"/>\n  </material>\n  <material name="red">\n    <color rgba="0.8 0.0 0.0 1.0"/>\n  </material>\n  <material name="white">\n    <color rgba="1.0 1.0 1.0 1.0"/>\n  </material>\n\n  \x3c!-- Base Link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.2 0.1 0.1"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.2 0.1 0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="5.0"/>\n      <inertia ixx="0.05" ixy="0.0" ixz="0.0" iyy="0.05" iyz="0.0" izz="0.05"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Torso --\x3e\n  <joint name="torso_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="torso"/>\n    <origin xyz="0.0 0.0 0.15" rpy="0 0 0"/>\n  </joint>\n\n  <link name="torso">\n    <visual>\n      <geometry>\n        <box size="0.3 0.2 0.5"/>\n      </geometry>\n      <material name="orange"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.3 0.2 0.5"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="${mass_torso}"/>\n      <inertia ixx="0.2" ixy="0.0" ixz="0.0" iyy="0.2" iyz="0.0" izz="0.2"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <joint name="neck_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="head"/>\n    <origin xyz="0.0 0.0 0.35" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-PI/4}" upper="${PI/4}" effort="100" velocity="1"/>\n  </joint>\n\n  <link name="head">\n    <visual>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="${mass_head}"/>\n      <inertia ixx="0.003" ixy="0.0" ixz="0.0" iyy="0.003" iyz="0.0" izz="0.003"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Include macros for arms and legs --\x3e\n  <xacro:include filename="$(find humanoid_description)/urdf/humanoid_macros.xacro"/>\n\n  \x3c!-- Left Arm --\x3e\n  <xacro:arm side="left"\n            parent="torso"\n            xyz="0.2 0.1 0.1"\n            rpy="0 0 0"\n            color="blue"/>\n\n  \x3c!-- Right Arm --\x3e\n  <xacro:arm side="right"\n            parent="torso"\n            xyz="0.2 -0.1 0.1"\n            rpy="0 0 0"\n            color="blue"/>\n\n  \x3c!-- Left Leg --\x3e\n  <xacro:leg side="left"\n            parent="base_link"\n            xyz="-0.1 0.05 -0.1"\n            rpy="0 0 0"\n            color="green"/>\n\n  \x3c!-- Right Leg --\x3e\n  <xacro:leg side="right"\n            parent="base_link"\n            xyz="-0.1 -0.05 -0.1"\n            rpy="0 0 0"\n            color="green"/>\n\n  \x3c!-- ROS Control interface --\x3e\n  <ros2_control name="GazeboSystem" type="system">\n    <hardware>\n      <plugin>gazebo_ros2_control/GazeboSystem</plugin>\n    </hardware>\n    <joint name="neck_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n    <joint name="left_shoulder_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n    <joint name="left_elbow_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n    <joint name="right_shoulder_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n    <joint name="right_elbow_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n  </ros2_control>\n\n  \x3c!-- Gazebo plugins --\x3e\n  <gazebo reference="base_link">\n    <material>Gazebo/White</material>\n  </gazebo>\n\n  <gazebo reference="torso">\n    <material>Gazebo/Orange</material>\n  </gazebo>\n\n  <gazebo reference="head">\n    <material>Gazebo/White</material>\n  </gazebo>\n\n</robot>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"creating-the-xacro-macros-file",children:"Creating the Xacro Macros File"}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/humanoid_description/urdf/humanoid_macros.xacro"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  \x3c!-- Arm Macro --\x3e\n  <xacro:macro name="arm" params="side parent xyz rpy color">\n    \x3c!-- Shoulder joint and link --\x3e\n    <joint name="${side}_shoulder_joint" type="revolute">\n      <parent link="${parent}"/>\n      <child link="${side}_upper_arm"/>\n      <origin xyz="${xyz}" rpy="${rpy}"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="${-PI/2}" upper="${PI/2}" effort="100" velocity="1"/>\n    </joint>\n\n    <link name="${side}_upper_arm">\n      <visual>\n        <geometry>\n          <cylinder length="0.3" radius="0.05"/>\n        </geometry>\n        <material name="${color}"/>\n        <origin xyz="0 0 0.15" rpy="0 0 0"/>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder length="0.3" radius="0.05"/>\n        </geometry>\n        <origin xyz="0 0 0.15" rpy="0 0 0"/>\n      </collision>\n      <inertial>\n        <mass value="${mass_arm}"/>\n        <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\n      </inertial>\n    </link>\n\n    \x3c!-- Elbow joint and link --\x3e\n    <joint name="${side}_elbow_joint" type="revolute">\n      <parent link="${side}_upper_arm"/>\n      <child link="${side}_lower_arm"/>\n      <origin xyz="0 0 0.3" rpy="0 0 0"/>\n      <axis xyz="0 0 1"/>\n      <limit lower="${-PI/2}" upper="${PI/2}" effort="100" velocity="1"/>\n    </joint>\n\n    <link name="${side}_lower_arm">\n      <visual>\n        <geometry>\n          <cylinder length="0.25" radius="0.04"/>\n        </geometry>\n        <material name="${color}"/>\n        <origin xyz="0 0 0.125" rpy="0 0 0"/>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder length="0.25" radius="0.04"/>\n        </geometry>\n        <origin xyz="0 0 0.125" rpy="0 0 0"/>\n      </collision>\n      <inertial>\n        <mass value="${mass_arm * 0.7}"/>\n        <inertia ixx="0.007" ixy="0.0" ixz="0.0" iyy="0.007" iyz="0.0" izz="0.007"/>\n      </inertial>\n    </link>\n\n    \x3c!-- Hand joint and link --\x3e\n    <joint name="${side}_wrist_joint" type="revolute">\n      <parent link="${side}_lower_arm"/>\n      <child link="${side}_hand"/>\n      <origin xyz="0 0 0.25" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="${-PI/4}" upper="${PI/4}" effort="50" velocity="1"/>\n    </joint>\n\n    <link name="${side}_hand">\n      <visual>\n        <geometry>\n          <box size="0.1 0.08 0.05"/>\n        </geometry>\n        <material name="${color}"/>\n      </visual>\n      <collision>\n        <geometry>\n          <box size="0.1 0.08 0.05"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <mass value="0.5"/>\n        <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>\n      </inertial>\n    </link>\n  </xacro:macro>\n\n  \x3c!-- Leg Macro --\x3e\n  <xacro:macro name="leg" params="side parent xyz rpy color">\n    \x3c!-- Hip joint and link --\x3e\n    <joint name="${side}_hip_joint" type="revolute">\n      <parent link="${parent}"/>\n      <child link="${side}_upper_leg"/>\n      <origin xyz="${xyz}" rpy="${rpy}"/>\n      <axis xyz="1 0 0"/>\n      <limit lower="${-PI/2}" upper="${PI/2}" effort="200" velocity="1"/>\n    </joint>\n\n    <link name="${side}_upper_leg">\n      <visual>\n        <geometry>\n          <cylinder length="0.4" radius="0.06"/>\n        </geometry>\n        <material name="${color}"/>\n        <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder length="0.4" radius="0.06"/>\n        </geometry>\n        <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      </collision>\n      <inertial>\n        <mass value="${mass_leg}"/>\n        <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>\n      </inertial>\n    </link>\n\n    \x3c!-- Knee joint and link --\x3e\n    <joint name="${side}_knee_joint" type="revolute">\n      <parent link="${side}_upper_leg"/>\n      <child link="${side}_lower_leg"/>\n      <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n      <axis xyz="1 0 0"/>\n      <limit lower="0" upper="${PI/2}" effort="200" velocity="1"/>\n    </joint>\n\n    <link name="${side}_lower_leg">\n      <visual>\n        <geometry>\n          <cylinder length="0.4" radius="0.05"/>\n        </geometry>\n        <material name="${color}"/>\n        <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder length="0.4" radius="0.05"/>\n        </geometry>\n        <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      </collision>\n      <inertial>\n        <mass value="${mass_leg * 0.8}"/>\n        <inertia ixx="0.015" ixy="0.0" ixz="0.0" iyy="0.015" iyz="0.0" izz="0.015"/>\n      </inertial>\n    </link>\n\n    \x3c!-- Ankle joint and foot --\x3e\n    <joint name="${side}_ankle_joint" type="revolute">\n      <parent link="${side}_lower_leg"/>\n      <child link="${side}_foot"/>\n      <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="${-PI/6}" upper="${PI/6}" effort="100" velocity="1"/>\n    </joint>\n\n    <link name="${side}_foot">\n      <visual>\n        <geometry>\n          <box size="0.2 0.1 0.05"/>\n        </geometry>\n        <material name="${color}"/>\n        <origin xyz="0 0 0.025" rpy="0 0 0"/>\n      </visual>\n      <collision>\n        <geometry>\n          <box size="0.2 0.1 0.05"/>\n        </geometry>\n        <origin xyz="0 0 0.025" rpy="0 0 0"/>\n      </collision>\n      <inertial>\n        <mass value="1.0"/>\n        <inertia ixx="0.003" ixy="0.0" ixz="0.0" iyy="0.003" iyz="0.0" izz="0.003"/>\n      </inertial>\n    </link>\n  </xacro:macro>\n\n  \x3c!-- Sensor Macro --\x3e\n  <xacro:macro name="camera_sensor" params="name parent xyz rpy">\n    <joint name="${name}_joint" type="fixed">\n      <parent link="${parent}"/>\n      <child link="${name}_link"/>\n      <origin xyz="${xyz}" rpy="${rpy}"/>\n    </joint>\n\n    <link name="${name}_link">\n      <visual>\n        <geometry>\n          <box size="0.02 0.04 0.02"/>\n        </geometry>\n        <material name="black"/>\n      </visual>\n      <collision>\n        <geometry>\n          <box size="0.02 0.04 0.02"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <mass value="0.1"/>\n        <inertia ixx="0.0001" ixy="0.0" ixz="0.0" iyy="0.0001" iyz="0.0" izz="0.0001"/>\n      </inertial>\n    </link>\n\n    <gazebo reference="${name}_link">\n      <sensor name="${name}_camera" type="camera">\n        <always_on>true</always_on>\n        <update_rate>30.0</update_rate>\n        <camera name="head">\n          <horizontal_fov>1.3962634</horizontal_fov>\n          <image>\n            <format>R8G8B8</format>\n            <width>640</width>\n            <height>480</height>\n          </image>\n          <clip>\n            <near>0.1</near>\n            <far>100</far>\n          </clip>\n        </camera>\n        <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\n          <frame_name>${name}_optical_frame</frame_name>\n        </plugin>\n      </sensor>\n    </gazebo>\n  </xacro:macro>\n\n</robot>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"active-learning-exercise",children:"Active Learning Exercise"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"Exercise: Customizing a Humanoid Robot"})}),"\n",(0,r.jsx)(e.p,{children:"Using the Xacro macros we created, modify the humanoid model to:"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Create a version with longer arms (10% longer)"}),"\n",(0,r.jsx)(e.li,{children:"Add a camera sensor to the head"}),"\n",(0,r.jsx)(e.li,{children:"Adjust joint limits to be more restrictive for safety"}),"\n",(0,r.jsx)(e.li,{children:"Change the physical properties to make the robot lighter"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Implement these changes by creating a new Xacro file that includes the original one but with your modifications. Discuss how these changes might affect the robot's capabilities and performance."}),"\n",(0,r.jsx)(e.h2,{id:"worked-example-black-box-to-glass-box---creating-a-parametric-humanoid-model",children:"Worked Example: Black-box to Glass-box - Creating a Parametric Humanoid Model"}),"\n",(0,r.jsx)(e.h3,{id:"black-box-view",children:"Black-box View"}),"\n",(0,r.jsx)(e.p,{children:"We'll create a parametric humanoid model that can be customized for different configurations. The black-box view is: we provide parameters (like height, weight, number of fingers), and the system generates a complete URDF model that's ready for simulation and control."}),"\n",(0,r.jsx)(e.h3,{id:"glass-box-implementation",children:"Glass-box Implementation"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"Create a parametric Xacro file:"})}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/humanoid_description/urdf/parametric_humanoid.xacro"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="parametric_humanoid">\n\n  \x3c!-- Parameters for customization --\x3e\n  <xacro:arg name="robot_height" default="1.7"/>\n  <xacro:arg name="robot_weight" default="70.0"/>\n  <xacro:arg name="has_lidar" default="false"/>\n  <xacro:arg name="has_camera" default="true"/>\n  <xacro:arg name="arm_dof" default="7"/>\n  <xacro:arg name="leg_dof" default="6"/>\n\n  \x3c!-- Calculate derived parameters --\x3e\n  <xacro:property name="height" value="$(arg robot_height)"/>\n  <xacro:property name="weight" value="$(arg robot_weight)"/>\n  <xacro:property name="torso_height" value="${height * 0.4}"/>\n  <xacro:property name="leg_length" value="${height * 0.45}"/>\n  <xacro:property name="arm_length" value="${height * 0.35}"/>\n  <xacro:property name="head_radius" value="${height * 0.08}"/>\n\n  \x3c!-- Mass distribution --\x3e\n  <xacro:property name="torso_mass" value="${weight * 0.4}"/>\n  <xacro:property name="head_mass" value="${weight * 0.08}"/>\n  <xacro:property name="arm_mass" value="${weight * 0.1}"/>\n  <xacro:property name="leg_mass" value="${weight * 0.16}"/>\n\n  \x3c!-- Constants --\x3e\n  <xacro:property name="PI" value="3.1415926535897931"/>\n\n  \x3c!-- Materials --\x3e\n  <material name="black">\n    <color rgba="0.0 0.0 0.0 1.0"/>\n  </material>\n  <material name="blue">\n    <color rgba="0.0 0.0 0.8 1.0"/>\n  </material>\n  <material name="green">\n    <color rgba="0.0 0.8 0.0 1.0"/>\n  </material>\n  <material name="grey">\n    <color rgba="0.5 0.5 0.5 1.0"/>\n  </material>\n  <material name="orange">\n    <color rgba="1.0 0.423529411765 0.0392156862745 1.0"/>\n  </material>\n  <material name="white">\n    <color rgba="1.0 1.0 1.0 1.0"/>\n  </material>\n\n  \x3c!-- Base Link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.2 0.1 0.1"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.2 0.1 0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="5.0"/>\n      <inertia ixx="0.05" ixy="0.0" ixz="0.0" iyy="0.05" iyz="0.0" izz="0.05"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Torso --\x3e\n  <joint name="torso_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="torso"/>\n    <origin xyz="0.0 0.0 0.15" rpy="0 0 0"/>\n  </joint>\n\n  <link name="torso">\n    <visual>\n      <geometry>\n        <box size="0.3 0.2 ${torso_height}"/>\n      </geometry>\n      <material name="orange"/>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.3 0.2 ${torso_height}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="${torso_mass}"/>\n      <inertia ixx="${torso_mass * torso_height * torso_height / 12}"\n               ixy="0.0" ixz="0.0"\n               iyy="${torso_mass * 0.3 * 0.3 / 12}"\n               iyz="0.0"\n               izz="${torso_mass * 0.2 * 0.2 / 12}"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <joint name="neck_joint" type="revolute">\n    <parent link="torso"/>\n    <child link="head"/>\n    <origin xyz="0.0 0.0 ${torso_height/2 + head_radius}" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="${-PI/4}" upper="${PI/4}" effort="100" velocity="1"/>\n  </joint>\n\n  <link name="head">\n    <visual>\n      <geometry>\n        <sphere radius="${head_radius}"/>\n      </geometry>\n      <material name="white"/>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="${head_radius}"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="${head_mass}"/>\n      <inertia ixx="${0.4 * head_mass * head_radius * head_radius}"\n               ixy="0.0" ixz="0.0"\n               iyy="${0.4 * head_mass * head_radius * head_radius}"\n               iyz="0.0"\n               izz="${0.4 * head_mass * head_radius * head_radius}"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Include macros --\x3e\n  <xacro:include filename="$(find humanoid_description)/urdf/humanoid_macros.xacro"/>\n\n  \x3c!-- Arms based on DOF parameter --\x3e\n  <xacro:if value="${arm_dof > 5}">\n    \x3c!-- More complex arm with additional joints --\x3e\n    <xacro:macro name="complex_arm" params="side parent xyz rpy color">\n      \x3c!-- Shoulder joint and link --\x3e\n      <joint name="${side}_shoulder_pitch_joint" type="revolute">\n        <parent link="${parent}"/>\n        <child link="${side}_shoulder"/>\n        <origin xyz="${xyz}" rpy="${rpy}"/>\n        <axis xyz="0 1 0"/>\n        <limit lower="${-PI/2}" upper="${PI/2}" effort="100" velocity="1"/>\n      </joint>\n\n      <link name="${side}_shoulder">\n        <visual>\n          <geometry>\n            <cylinder length="0.1" radius="0.05"/>\n          </geometry>\n          <material name="${color}"/>\n        </visual>\n        <collision>\n          <geometry>\n            <cylinder length="0.1" radius="0.05"/>\n          </geometry>\n        </collision>\n        <inertial>\n          <mass value="${arm_mass * 0.1}"/>\n          <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>\n        </inertial>\n      </link>\n\n      <joint name="${side}_shoulder_roll_joint" type="revolute">\n        <parent link="${side}_shoulder"/>\n        <child link="${side}_upper_arm"/>\n        <origin xyz="0 0 0.05" rpy="0 0 0"/>\n        <axis xyz="1 0 0"/>\n        <limit lower="${-PI/2}" upper="${PI/2}" effort="100" velocity="1"/>\n      </joint>\n\n      <link name="${side}_upper_arm">\n        <visual>\n          <geometry>\n            <cylinder length="${arm_length * 0.4}" radius="0.05"/>\n          </geometry>\n          <material name="${color}"/>\n          <origin xyz="0 0 ${arm_length * 0.2}" rpy="0 0 0"/>\n        </visual>\n        <collision>\n          <geometry>\n            <cylinder length="${arm_length * 0.4}" radius="0.05"/>\n          </geometry>\n          <origin xyz="0 0 ${arm_length * 0.2}" rpy="0 0 0"/>\n        </collision>\n        <inertial>\n          <mass value="${arm_mass * 0.3}"/>\n          <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>\n        </inertial>\n      </link>\n\n      <joint name="${side}_elbow_joint" type="revolute">\n        <parent link="${side}_upper_arm"/>\n        <child link="${side}_forearm"/>\n        <origin xyz="0 0 ${arm_length * 0.4}" rpy="0 0 0"/>\n        <axis xyz="0 0 1"/>\n        <limit lower="${-PI/2}" upper="${PI/2}" effort="100" velocity="1"/>\n      </joint>\n\n      <link name="${side}_forearm">\n        <visual>\n          <geometry>\n            <cylinder length="${arm_length * 0.35}" radius="0.04"/>\n          </geometry>\n          <material name="${color}"/>\n          <origin xyz="0 0 ${arm_length * 0.175}" rpy="0 0 0"/>\n        </visual>\n        <collision>\n          <geometry>\n            <cylinder length="${arm_length * 0.35}" radius="0.04"/>\n          </geometry>\n          <origin xyz="0 0 ${arm_length * 0.175}" rpy="0 0 0"/>\n        </collision>\n        <inertial>\n          <mass value="${arm_mass * 0.25}"/>\n          <inertia ixx="0.007" ixy="0.0" ixz="0.0" iyy="0.007" iyz="0.0" izz="0.007"/>\n        </inertial>\n      </link>\n\n      <joint name="${side}_wrist_pitch_joint" type="revolute">\n        <parent link="${side}_forearm"/>\n        <child link="${side}_wrist"/>\n        <origin xyz="0 0 ${arm_length * 0.35}" rpy="0 0 0"/>\n        <axis xyz="0 1 0"/>\n        <limit lower="${-PI/4}" upper="${PI/4}" effort="50" velocity="1"/>\n      </joint>\n\n      <link name="${side}_wrist">\n        <visual>\n          <geometry>\n            <cylinder length="0.05" radius="0.03"/>\n          </geometry>\n          <material name="${color}"/>\n        </visual>\n        <collision>\n          <geometry>\n            <cylinder length="0.05" radius="0.03"/>\n          </geometry>\n        </collision>\n        <inertial>\n          <mass value="0.2"/>\n          <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>\n        </inertial>\n      </link>\n\n      <joint name="${side}_wrist_yaw_joint" type="revolute">\n        <parent link="${side}_wrist"/>\n        <child link="${side}_hand"/>\n        <origin xyz="0 0 0.025" rpy="0 0 0"/>\n        <axis xyz="0 0 1"/>\n        <limit lower="${-PI/3}" upper="${PI/3}" effort="30" velocity="1"/>\n      </joint>\n\n      <link name="${side}_hand">\n        <visual>\n          <geometry>\n            <box size="0.1 0.08 0.05"/>\n          </geometry>\n          <material name="${color}"/>\n        </visual>\n        <collision>\n          <geometry>\n            <box size="0.1 0.08 0.05"/>\n          </geometry>\n        </collision>\n        <inertial>\n          <mass value="0.3"/>\n          <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>\n        </inertial>\n      </link>\n    </xacro:macro>\n\n    \x3c!-- Use complex arms --\x3e\n    <xacro:complex_arm side="left"\n                      parent="torso"\n                      xyz="${0.15} ${0.1} ${torso_height/4}"\n                      rpy="0 0 0"\n                      color="blue"/>\n    <xacro:complex_arm side="right"\n                      parent="torso"\n                      xyz="${0.15} ${-0.1} ${torso_height/4}"\n                      rpy="0 0 0"\n                      color="blue"/>\n  </xacro:if>\n\n  <xacro:unless value="${arm_dof > 5}">\n    \x3c!-- Simple arms --\x3e\n    <xacro:arm side="left"\n              parent="torso"\n              xyz="${0.15} ${0.1} ${torso_height/4}"\n              rpy="0 0 0"\n              color="blue"/>\n    <xacro:arm side="right"\n              parent="torso"\n              xyz="${0.15} ${-0.1} ${torso_height/4}"\n              rpy="0 0 0"\n              color="blue"/>\n  </xacro:unless>\n\n  \x3c!-- Legs based on DOF parameter --\x3e\n  <xacro:if value="${leg_dof > 5}">\n    \x3c!-- More complex leg with additional joints --\x3e\n    <xacro:macro name="complex_leg" params="side parent xyz rpy color">\n      \x3c!-- Hip joint and link --\x3e\n      <joint name="${side}_hip_yaw_joint" type="revolute">\n        <parent link="${parent}"/>\n        <child link="${side}_hip"/>\n        <origin xyz="${xyz}" rpy="${rpy}"/>\n        <axis xyz="0 0 1"/>\n        <limit lower="${-PI/6}" upper="${PI/6}" effort="200" velocity="1"/>\n      </joint>\n\n      <link name="${side}_hip">\n        <visual>\n          <geometry>\n            <cylinder length="0.08" radius="0.06"/>\n          </geometry>\n          <material name="${color}"/>\n        </visual>\n        <collision>\n          <geometry>\n            <cylinder length="0.08" radius="0.06"/>\n          </geometry>\n        </collision>\n        <inertial>\n          <mass value="${leg_mass * 0.1}"/>\n          <inertia ixx="0.002" ixy="0.0" ixz="0.0" iyy="0.002" iyz="0.0" izz="0.002"/>\n        </inertial>\n      </link>\n\n      <joint name="${side}_hip_pitch_joint" type="revolute">\n        <parent link="${side}_hip"/>\n        <child link="${side}_upper_leg"/>\n        <origin xyz="0 0 -0.04" rpy="0 0 0"/>\n        <axis xyz="1 0 0"/>\n        <limit lower="${-PI/2}" upper="${PI/2}" effort="200" velocity="1"/>\n      </joint>\n\n      <link name="${side}_upper_leg">\n        <visual>\n          <geometry>\n            <cylinder length="${leg_length * 0.45}" radius="0.06"/>\n          </geometry>\n          <material name="${color}"/>\n          <origin xyz="0 0 ${-leg_length * 0.225}" rpy="0 0 0"/>\n        </visual>\n        <collision>\n          <geometry>\n            <cylinder length="${leg_length * 0.45}" radius="0.06"/>\n          </geometry>\n          <origin xyz="0 0 ${-leg_length * 0.225}" rpy="0 0 0"/>\n        </collision>\n        <inertial>\n          <mass value="${leg_mass * 0.4}"/>\n          <inertia ixx="0.02" ixy="0.0" ixz="0.0" iyy="0.02" iyz="0.0" izz="0.02"/>\n        </inertial>\n      </link>\n\n      <joint name="${side}_knee_joint" type="revolute">\n        <parent link="${side}_upper_leg"/>\n        <child link="${side}_lower_leg"/>\n        <origin xyz="0 0 ${-leg_length * 0.45}" rpy="0 0 0"/>\n        <axis xyz="1 0 0"/>\n        <limit lower="0" upper="${PI/2}" effort="200" velocity="1"/>\n      </joint>\n\n      <link name="${side}_lower_leg">\n        <visual>\n          <geometry>\n            <cylinder length="${leg_length * 0.45}" radius="0.05"/>\n          </geometry>\n          <material name="${color}"/>\n          <origin xyz="0 0 ${-leg_length * 0.225}" rpy="0 0 0"/>\n        </visual>\n        <collision>\n          <geometry>\n            <cylinder length="${leg_length * 0.45}" radius="0.05"/>\n          </geometry>\n          <origin xyz="0 0 ${-leg_length * 0.225}" rpy="0 0 0"/>\n        </collision>\n        <inertial>\n          <mass value="${leg_mass * 0.35}"/>\n          <inertia ixx="0.015" ixy="0.0" ixz="0.0" iyy="0.015" iyz="0.0" izz="0.015"/>\n        </inertial>\n      </link>\n\n      <joint name="${side}_ankle_pitch_joint" type="revolute">\n        <parent link="${side}_lower_leg"/>\n        <child link="${side}_ankle"/>\n        <origin xyz="0 0 ${-leg_length * 0.45}" rpy="0 0 0"/>\n        <axis xyz="1 0 0"/>\n        <limit lower="${-PI/6}" upper="${PI/6}" effort="100" velocity="1"/>\n      </joint>\n\n      <link name="${side}_ankle">\n        <visual>\n          <geometry>\n            <cylinder length="0.04" radius="0.05"/>\n          </geometry>\n          <material name="${color}"/>\n        </visual>\n        <collision>\n          <geometry>\n            <cylinder length="0.04" radius="0.05"/>\n          </geometry>\n        </collision>\n        <inertial>\n          <mass value="0.5"/>\n          <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>\n        </inertial>\n      </link>\n\n      <joint name="${side}_ankle_roll_joint" type="revolute">\n        <parent link="${side}_ankle"/>\n        <child link="${side}_foot"/>\n        <origin xyz="0 0 -0.02" rpy="0 0 0"/>\n        <axis xyz="0 1 0"/>\n        <limit lower="${-PI/6}" upper="${PI/6}" effort="100" velocity="1"/>\n      </joint>\n\n      <link name="${side}_foot">\n        <visual>\n          <geometry>\n            <box size="0.2 0.1 0.05"/>\n          </geometry>\n          <material name="${color}"/>\n          <origin xyz="0 0 0.025" rpy="0 0 0"/>\n        </visual>\n        <collision>\n          <geometry>\n            <box size="0.2 0.1 0.05"/>\n          </geometry>\n          <origin xyz="0 0 0.025" rpy="0 0 0"/>\n        </collision>\n        <inertial>\n          <mass value="1.0"/>\n          <inertia ixx="0.003" ixy="0.0" ixz="0.0" iyy="0.003" iyz="0.0" izz="0.003"/>\n        </inertial>\n      </link>\n    </xacro:macro>\n\n    \x3c!-- Use complex legs --\x3e\n    <xacro:complex_leg side="left"\n                      parent="base_link"\n                      xyz="${-0.1} ${0.05} -0.1"\n                      rpy="0 0 0"\n                      color="green"/>\n    <xacro:complex_leg side="right"\n                      parent="base_link"\n                      xyz="${-0.1} ${-0.05} -0.1"\n                      rpy="0 0 0"\n                      color="green"/>\n  </xacro:if>\n\n  <xacro:unless value="${leg_dof > 5}">\n    \x3c!-- Simple legs --\x3e\n    <xacro:leg side="left"\n              parent="base_link"\n              xyz="${-0.1} ${0.05} -0.1"\n              rpy="0 0 0"\n              color="green"/>\n    <xacro:leg side="right"\n              parent="base_link"\n              xyz="${-0.1} ${-0.05} -0.1"\n              rpy="0 0 0"\n              color="green"/>\n  </xacro:unless>\n\n  \x3c!-- Add sensors based on parameters --\x3e\n  <xacro:if value="$(arg has_camera)">\n    <xacro:camera_sensor name="head_camera"\n                         parent="head"\n                         xyz="0.05 0 0"\n                         rpy="0 0 0"/>\n  </xacro:if>\n\n  <xacro:if value="$(arg has_lidar)">\n    <joint name="lidar_joint" type="fixed">\n      <parent link="head"/>\n      <child link="lidar_link"/>\n      <origin xyz="0 0 0.05" rpy="0 0 0"/>\n    </joint>\n\n    <link name="lidar_link">\n      <visual>\n        <geometry>\n          <cylinder radius="0.05" length="0.04"/>\n        </geometry>\n        <material name="black"/>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder radius="0.05" length="0.04"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <mass value="0.2"/>\n        <inertia ixx="0.001" ixy="0.0" ixz="0.0" iyy="0.001" iyz="0.0" izz="0.001"/>\n      </inertial>\n    </link>\n\n    <gazebo reference="lidar_link">\n      <sensor name="head_lidar" type="ray">\n        <always_on>true</always_on>\n        <update_rate>10</update_rate>\n        <ray>\n          <scan>\n            <horizontal>\n              <samples>360</samples>\n              <resolution>1</resolution>\n              <min_angle>-3.14159</min_angle>\n              <max_angle>3.14159</max_angle>\n            </horizontal>\n          </scan>\n          <range>\n            <min>0.1</min>\n            <max>30.0</max>\n            <resolution>0.01</resolution>\n          </range>\n        </ray>\n        <plugin name="lidar_controller" filename="libgazebo_ros_ray_sensor.so">\n          <ros>\n            <remapping>~/out:=scan</remapping>\n          </ros>\n          <output_type>sensor_msgs/LaserScan</output_type>\n        </plugin>\n      </sensor>\n    </gazebo>\n  </xacro:if>\n\n  \x3c!-- ROS Control interface --\x3e\n  <ros2_control name="GazeboSystem" type="system">\n    <hardware>\n      <plugin>gazebo_ros2_control/GazeboSystem</plugin>\n    </hardware>\n    <joint name="neck_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n    <joint name="left_shoulder_pitch_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n    <joint name="left_shoulder_roll_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n    <joint name="left_elbow_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n    <joint name="right_shoulder_pitch_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n    <joint name="right_shoulder_roll_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n    <joint name="right_elbow_joint">\n      <command_interface name="position"/>\n      <state_interface name="position"/>\n      <state_interface name="velocity"/>\n    </joint>\n  </ros2_control>\n\n  \x3c!-- Gazebo plugins --\x3e\n  <gazebo reference="base_link">\n    <material>Gazebo/White</material>\n  </gazebo>\n\n  <gazebo reference="torso">\n    <material>Gazebo/Orange</material>\n  </gazebo>\n\n  <gazebo reference="head">\n    <material>Gazebo/White</material>\n  </gazebo>\n\n</robot>\n'})}),"\n",(0,r.jsxs)(e.ol,{start:"2",children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"Create a launch file to visualize the robot:"})}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/humanoid_description/launch/view_robot.launch.py"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"import os\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node\nfrom ament_index_python.packages import get_package_share_directory\n\ndef generate_launch_description():\n    # Declare launch arguments\n    height_arg = DeclareLaunchArgument(\n        'robot_height',\n        default_value='1.7',\n        description='Height of the robot in meters'\n    )\n\n    weight_arg = DeclareLaunchArgument(\n        'robot_weight',\n        default_value='70.0',\n        description='Weight of the robot in kg'\n    )\n\n    has_camera_arg = DeclareLaunchArgument(\n        'has_camera',\n        default_value='true',\n        description='Whether the robot has a camera'\n    )\n\n    has_lidar_arg = DeclareLaunchArgument(\n        'has_lidar',\n        default_value='false',\n        description='Whether the robot has a lidar'\n    )\n\n    # Get launch configuration\n    robot_height = LaunchConfiguration('robot_height')\n    robot_weight = LaunchConfiguration('robot_weight')\n    has_camera = LaunchConfiguration('has_camera')\n    has_lidar = LaunchConfiguration('has_lidar')\n\n    # Get URDF file path\n    urdf_path = os.path.join(\n        get_package_share_directory('humanoid_description'),\n        'urdf',\n        'parametric_humanoid.xacro'\n    )\n\n    # Define robot state publisher node\n    robot_state_publisher = Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        name='robot_state_publisher',\n        parameters=[{\n            'robot_description': f'$(find xacro)/xacro {urdf_path} robot_height:={robot_height} robot_weight:={robot_weight} has_camera:={has_camera} has_lidar:={has_lidar}'\n        }]\n    )\n\n    # Define joint state publisher GUI node\n    joint_state_publisher_gui = Node(\n        package='joint_state_publisher_gui',\n        executable='joint_state_publisher_gui',\n        name='joint_state_publisher_gui'\n    )\n\n    # Define RViz node\n    rviz_node = Node(\n        package='rviz2',\n        executable='rviz2',\n        name='rviz2',\n        arguments=['-d', os.path.join(get_package_share_directory('humanoid_description'), 'rviz', 'urdf.rviz')]\n    )\n\n    return LaunchDescription([\n        height_arg,\n        weight_arg,\n        has_camera_arg,\n        has_lidar_arg,\n        robot_state_publisher,\n        joint_state_publisher_gui,\n        rviz_node\n    ])\n"})}),"\n",(0,r.jsxs)(e.ol,{start:"3",children:["\n",(0,r.jsx)(e.li,{children:(0,r.jsx)(e.strong,{children:"Create an RViz configuration file:"})}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Create the RViz directory and config:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"mkdir -p ~/ros2_ws/src/humanoid_description/rviz\n"})}),"\n",(0,r.jsxs)(e.p,{children:["Create ",(0,r.jsx)(e.code,{children:"~/ros2_ws/src/humanoid_description/rviz/urdf.rviz"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",children:'Panels:\n  - Class: rviz_common/Displays\n    Help Height: 78\n    Name: Displays\n    Property Tree Widget:\n      Expanded:\n        - /Global Options1\n        - /Status1\n        - /RobotModel1\n        - /RobotModel1/Links1\n      Splitter Ratio: 0.5\n    Tree Height: 606\n  - Class: rviz_common/Selection\n    Name: Selection\n  - Class: rviz_common/Tool Properties\n    Expanded:\n      - /2D Goal Pose1\n      - /Publish Point1\n    Name: Tool Properties\n    Splitter Ratio: 0.5886790156364441\n  - Class: rviz_common/Views\n    Expanded:\n      - /Current View1\n    Name: Views\n    Splitter Ratio: 0.5\nVisualization Manager:\n  Class: ""\n  Displays:\n    - Alpha: 0.5\n      Cell Size: 1\n      Class: rviz_default_plugins/Grid\n      Color: 160; 160; 164\n      Enabled: true\n      Line Style:\n        Line Width: 0.029999999329447746\n        Value: Lines\n      Name: Grid\n      Normal Cell Count: 0\n      Offset:\n        X: 0\n        Y: 0\n        Z: 0\n      Plane: XY\n      Plane Cell Count: 10\n      Reference Frame: <Fixed Frame>\n      Value: true\n    - Alpha: 1\n      Class: rviz_default_plugins/RobotModel\n      Collision Enabled: false\n      Description File: ""\n      Description Source: Topic\n      Description Topic:\n        Depth: 5\n        Durability Policy: Volatile\n        History Policy: Keep Last\n        Reliability Policy: Reliable\n        Value: /robot_description\n      Enabled: true\n      Links:\n        All Links Enabled: true\n        Expand Joint Details: false\n        Expand Link Details: false\n        Expand Tree: false\n        Link Tree Style: Links in Alphabetic Order\n      Name: RobotModel\n      TF Prefix: ""\n      Update Interval: 0\n      Value: true\n      Visual Enabled: true\n  Enabled: true\n  Global Options:\n    Background Color: 48; 48; 48\n    Fixed Frame: base_link\n    Frame Rate: 30\n  Name: root\n  Tools:\n    - Class: rviz_default_plugins/Interact\n      Hide Inactive Objects: true\n    - Class: rviz_default_plugins/MoveCamera\n    - Class: rviz_default_plugins/Select\n    - Class: rviz_default_plugins/FocusCamera\n    - Class: rviz_default_plugins/Measure\n      Line color: 128; 128; 0\n  Transformation:\n    Current:\n      Class: rviz_default_plugins/TF\n  Value: true\n  Views:\n    Current:\n      Class: rviz_default_plugins/Orbit\n      Name: Current View\n      Target Frame: base_link\n      Value: Orbit (rviz)\n    Saved: ~\nWindow Geometry:\n  Displays:\n    collapsed: false\n  Height: 846\n  Hide Left Dock: false\n  Hide Right Dock: true\n  QMainWindow State: 000000ff00000000fd000000040000000000000156000002f4fc0200000008fb0000001200530065006c0065006300740069006f006e00000001e10000009b0000005c00fffffffb0000001e0054006f006f006c002000500072006f007000650072007400690065007302000001ed000001df00000185000000a3fb000000120056006900650077007300200054006f006f02000001df000002110000018500000122fb000000200054006f006f006c002000500072006f0070006500720074006900650073003203000002880000011d000002210000017afb000000100044006900730070006c006100790073010000003d000002f4000000c900fffffffb0000002000730065006c0065006300740069006f006e00200062007500660066006500720200000138000000aa0000023a00000294fb00000014005700690064006500530074006500720065006f02000000e6000000d2000003ee0000030bfb0000000c004b0069006e0065006300740200000186000001060000030c00000261000000010000010f000002f4fc0200000003fb0000001e0054006f006f006c002000500072006f00700065007200740069006500730100000041000000780000000000000000fb0000000a00560069006500770073000000003d000002f4000000a400fffffffb0000001200530065006c0065006300740069006f006e010000025a000000b200000000000000000000000200000490000000a9fc0100000001fb0000000a00560069006500770073030000004e00000080000002e10000019700000003000004420000003efc0100000002fb0000000800540069006d00650100000000000004420000000000000000fb0000000800540069006d00650100000000000004500000000000000000000003a0000002f400000004000000040000000800000008fc0000000100000002000000010000000a0054006f006f006c00730100000000ffffffff0000000000000000\n  Width: 1200\n  X: 60\n  Y: 60\n'})})]})}function d(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(m,{...n})}):m(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>l});var a=i(6540);const r={},o=a.createContext(r);function t(n){const e=a.useContext(o);return a.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),a.createElement(o.Provider,{value:e},n.children)}}}]);